(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{244:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/case-study/design_decisions/provider_verification",function(){return i(4434)}])},9369:function(e,t,i){"use strict";var n=i(5893);i(7294);let s={logo:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("img",{src:"/transparent-logo-horizontal-mn.svg",style:{maxHeight:"5rem"},alt:"logo"})}),project:{link:"https://github.com/signet-framework/"},docsRepositoryBase:"https://github.com/signet-framework/case-study",footer:{text:""},editLink:{text:null},feedback:{content:null},head:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("link",{rel:"icon",type:"image/ico",href:"/signet-favicon-transparent.ico"})})};t.Z=s},4434:function(e,t,i){"use strict";i.r(t);var n=i(5893),s=i(2673),r=i(3931),o=i(9369);i(9966);var a=i(1151);i(5675);let d={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,a.ah)(),e.components);return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)},pageOpts:{filePath:"pages/case-study/design_decisions/provider_verification.md",route:"/case-study/design_decisions/provider_verification",headings:[{depth:1,value:"Provider Verification",id:"provider-verification"},{depth:2,value:"Trust, but Verify",id:"trust-but-verify"},{depth:2,value:"Two Step Process",id:"two-step-process"},{depth:2,value:"Approaches to Verification",id:"approaches-to-verification"},{depth:3,value:"Black Box Testing",id:"black-box-testing"},{depth:3,value:"Alternatives",id:"alternatives"},{depth:4,value:"Generate Unit Tests from the Specification",id:"generate-unit-tests-from-the-specification"},{depth:4,value:"Generate OpenAPI Specification from Code",id:"generate-openapi-specification-from-code"}],timestamp:1689971121e3,pageMap:[{kind:"Meta",data:{index:{title:"Home",display:"hidden",type:"page"},"case-study-header-link":{title:"Case Study",type:"page",href:"/case-study"},quickstart:"Quickstart","case-study":{title:"Case Study"},about:{title:"About",type:"page"},contact:{title:"Contact â†—",type:"page",href:"https://github.com/signet-framework/",newWindow:!0}}},{kind:"MdxPage",name:"about",route:"/about"},{kind:"Folder",name:"case-study",route:"/case-study",children:[{kind:"Meta",data:{background:"Background",contract_testing:"Contract Testing",signet_framework:"Signet Framework",design_decisions:"Design Decisions"}},{kind:"Folder",name:"background",route:"/case-study/background",children:[{kind:"Meta",data:{monoliths_and_microservices:"Monoliths and Microservices",challenges_testing_microservices:"Challenges Testing Microservices"}},{kind:"MdxPage",name:"challenges_testing_microservices",route:"/case-study/background/challenges_testing_microservices"},{kind:"MdxPage",name:"monoliths_and_microservices",route:"/case-study/background/monoliths_and_microservices"}]},{kind:"MdxPage",name:"contract_testing",route:"/case-study/contract_testing"},{kind:"Folder",name:"design_decisions",route:"/case-study/design_decisions",children:[{kind:"Meta",data:{provider_verification:"Provider Verification",central_document_repository:"Central Document Repository",contract_generation:"Contract Generation"}},{kind:"MdxPage",name:"central_document_repository",route:"/case-study/design_decisions/central_document_repository"},{kind:"MdxPage",name:"contract_generation",route:"/case-study/design_decisions/contract_generation"},{kind:"MdxPage",name:"provider_verification",route:"/case-study/design_decisions/provider_verification"}]},{kind:"Folder",name:"signet_framework",route:"/case-study/signet_framework",children:[{kind:"Meta",data:{usecase:"Use Case"}},{kind:"MdxPage",name:"usecase",route:"/case-study/signet_framework/usecase"}]}]},{kind:"MdxPage",name:"case-study",route:"/case-study"},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"quickstart",route:"/quickstart",children:[{kind:"Meta",data:{style_guide:"Style Guide",folders:"Folders and _meta.json",embed_image:"Embed an Image",mdx_with_react:"MDX with React"}},{kind:"MdxPage",name:"embed_image",route:"/quickstart/embed_image"},{kind:"MdxPage",name:"folders",route:"/quickstart/folders"},{kind:"MdxPage",name:"mdx_with_react",route:"/quickstart/mdx_with_react"},{kind:"MdxPage",name:"style_guide",route:"/quickstart/style_guide"}]},{kind:"MdxPage",name:"quickstart",route:"/quickstart"}],flexsearch:{codeblocks:!0},title:"Provider Verification"},pageNextRoute:"/case-study/design_decisions/provider_verification",nextraLayout:r.ZP,themeConfig:o.Z};function c(e){let t=Object.assign({h1:"h1",h2:"h2",p:"p",em:"em",strong:"strong",ol:"ol",li:"li",h3:"h3",h4:"h4"},(0,a.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{children:"Provider Verification"}),"\n",(0,n.jsx)(t.h2,{id:"trust-but-verify",children:"Trust, but Verify"}),"\n",(0,n.jsxs)(t.p,{children:["Consider a situation where the published consumer contract and provider specification are compatible, but the provider did not implement all the requirements defined in their specification.\nIn such cases, Deploy Guard should issue a warning, signaling that the provider's implementation might not be entirely compatible with the consumer.\nHowever, how can Deploy Guard accurately assess whether the provider has faithfully implemented their specification?\nThe solution to this problem is a process that we refer to as ",(0,n.jsx)(t.em,{children:"provider verification"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Provider verification"})," occurs when the provider tests their implementation against the published provider specification.\nThe results of this verification are then integrated into Deploy Guard, adding an extra layer of confidence in the compatibility between consumer and provider."]}),"\n",(0,n.jsx)(t.h2,{id:"two-step-process",children:"Two Step Process"}),"\n",(0,n.jsx)(t.p,{children:"There are two steps to provider verification:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Testing the provider"}),"\n",(0,n.jsx)(t.li,{children:"Publishing the test results to the Signet broker"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Upon analyzing this process, we realized that publishing the test results does not require knowledge of how the results were obtained.\nThis observation led us to explore the possibility of decoupling the second step from the first.\nEssentially, we would shift the responsibility of testing the provider to the developer, granting them the freedom to employ their preferred testing tools.\nOnce the testing is complete, they can publish the results using the Signet CLI."}),"\n",(0,n.jsx)(t.p,{children:"While involving developers in the provider verification process was initially attractive, it also introduces more complexity to contract testing.\nThe developer would need to take on the burden of ensuring that their tests accurately cover all the requirements of the latest specification.\nTherefore, we ultimately decided that Signet should handle both steps of the verification process."}),"\n",(0,n.jsx)(t.h2,{id:"approaches-to-verification",children:"Approaches to Verification"}),"\n",(0,n.jsxs)(t.p,{children:["Having decided to include provider testing, we then considered a few options on how to implement it.\nThe approach we settled on is centered around ",(0,n.jsx)(t.em,{children:"black box testing"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"black-box-testing",children:"Black Box Testing"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Black box testing"})," is a testing technique in which the code and implementation details of the tested software are unexposed to the tester.\nWe achieved this by simulating a mock consumer that utilizes the OpenAPI Specification to send requests to the provider.\nThe mock consumer sends a request to the provider for each described request in the specification.\nIf all the provider responses satisfy the requirements of the specification, then the provider is verified."]}),"\n",(0,n.jsxs)(t.p,{children:["The main benefit of this approach is that it is both ",(0,n.jsx)(t.strong,{children:"language and platform agnostic"}),", making it easy to support any testing or server framework."]}),"\n",(0,n.jsx)(t.h3,{id:"alternatives",children:"Alternatives"}),"\n",(0,n.jsx)(t.p,{children:"During our design phase we also considered a couple of alternative approaches to provider verification."}),"\n",(0,n.jsx)(t.h4,{id:"generate-unit-tests-from-the-specification",children:"Generate Unit Tests from the Specification"}),"\n",(0,n.jsxs)(t.p,{children:["The first was to to ",(0,n.jsx)(t.strong,{children:"generate unit tests automatically"})," from the OpenAPI Specification; the provider is verified if they pass the generated unit tests.\nThe main advantage of this approach is its convenience in a new codebase, as it automates the process of writing unit tests for the specification."]}),"\n",(0,n.jsx)(t.p,{children:"However, the code-invasive nature of this approach entails a few downsides.\nFirst, integrating our feature with existing testing frameworks would be problematic, as it would require developing individual support for each framework.\nSecond, we would also need a way to ensure synchronization between unit tests and specifications, otherwise developers can modify the unit tests in a way that inaccurately tests the specification."}),"\n",(0,n.jsx)(t.p,{children:"Considering these issues, we decided that providing support for this feature would be outside the current scope of Signet."}),"\n",(0,n.jsx)(t.h4,{id:"generate-openapi-specification-from-code",children:"Generate OpenAPI Specification from Code"}),"\n",(0,n.jsxs)(t.p,{children:["A second approach that we considered involves ",(0,n.jsx)(t.strong,{children:"generating an additional OpenAPI Specification"})," directly from the provider code.\nWe could then compare the generated specification with the published one to ensure compatibility."]}),"\n",(0,n.jsx)(t.p,{children:"While this approach is well-suited for an existing codebase, the implementation would be complicated because tools for specification generation tend to be tightly coupled to server frameworks.\nAs such, this approach would also require implementing individual support for each framework, which we considered impractical."})]})}t.default=(0,s.j)(d)}},function(e){e.O(0,[533,774,888,179],function(){return e(e.s=244)}),_N_E=e.O()}]);